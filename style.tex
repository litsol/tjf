% debugging commands - invoke with the --mode=debug flag
\startmode[debug]
\showframe
\showgrid
\showstruts
\stopmode

% Enable UTF regime, i.e., you may include, and ConTeXt will typeset, unicode characters.
\enableregime [utf]

% Enable hanging punctuation, less severe style.
\definefontfeature
  [default]
  [default]
  [protrusion=quality,expansion=quality]

\setupalign[hz,hanging]

% Choose a font.
\setupbodyfont[pagella,12pt]
\setupbodyfontenvironment[default][em=italic]

% Declare hanging punctuation.
\setupalign[hanging]

% Be tolerant while building paragraphs.
\setuptolerance[verytolerant,stretch]

% Choose a language, and associated hyphenation rules.
\language [en]

% Typeset verbatim text with sans-serif.
\setuptyping [letter=\ss]

% Specify how much white space between paragraphs.
\setupwhitespace [medium]

% Itemizations are tightly packed.
\setupitemize
  [1][packed]

% Center the page number in the footer.
\setuppagenumbering
  [location={footer, center},
   state=start]

% Set the default paper size to US letter.
\setuppapersize [letter]

% Prevent widows and orphans.
\startsetups[newPenalties]
  \widowpenalty10000
  \clubpenalty10000
\stopsetups

% Layout on the grid please.
\setuplayout
  [grid=yes,
   setups={*default,newPenalties}]
%   header=0pt,
%   footer=0pt]

% Obviate the header by reducing its space to zero. 
\setuplayout[header=0pt]

% Put section numbers in the margin.
\setupheads [alternative=margin]

% Setup how combinations look.
\setupcombinations
  [distance=1.25cm] %% horizontal separation

% Setup initial, i.e., drop cap, character.
\setupinitial[color=red, font=Regular sa 5, distance=3pt, state=start, n=3]

% Add kerning to the subject title, and scale up its size a bit.
\setuphead[subject][style=\scb,textstyle={\kerncharacters[.25]}]

% Example article macro. Only typeset the article title and author. 
\def\article#1#2{
  \start
    \setupwhitespace[small]
    \switchtobodyfont[24pt]
    \framed[frame=off,align=left,width=\textwidth]{#1}
    \switchtobodyfont[12pt]
    \par
    \rightaligned{\bf #2}
  \stop
  \hairline
  \blank[2*big]
}

%finis
